@model demo1.Services.HolidayRequestApprovalViewModel;

@{
    ViewData["Title"] = "Home Page";

}


<div class="form-floating">
    <select class="form-select" id="floatingSelect" aria-label="Floating label select example" onchange="pickRequester(this)">
        <option selected>Open this select menu</option>
        @{
            foreach (var i in Model.RequesterName)
            {
                <option value="@i.RequesterName">@i.RequesterName</option>
            }

        }
    </select>
    <label for="floatingSelect">Requester</label>
</div>

@{
    if (Model.PendingHolidays?.Any() == true)
    {
        <div class="text-center">
            <h1 class="display-4">Holidays Tracker Full History</h1>
            <br />
            <table class="table table-dark">
                <tr>
                    <th>Requester</th>
                    <th>StartDate</th>
                    <th>EndDate</th>
                </tr>
                @{
                    foreach (var i in Model.PendingHolidays)
                    {
                        <tr>
                            <td>@i.RequesterName</td>
                            <td>@i.StartDate.ToShortDateString()</td>
                            <td>@i.EndDate.ToShortDateString()</td>
                        </tr>
                    }
                }
            </table>
        </div>


    }
}



<script>
    function pickRequester(select) {
        var selectedItem = select.options[select.selectedIndex].text;
        window.location.href = "HolidayRequestApprovals?reqName=" + selectedItem;
    }
</script>